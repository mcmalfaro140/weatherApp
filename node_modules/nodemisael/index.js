const
     config = require('./config'),
     superagent = require('superagent')

const _fetch = (type, command) => {
    if(type == "search"){
        return superagent.get(`${config.url}/${type}.json?key=${config.key}&q=${command}`)
        .then(response => response.body)
        .catch(error => "error")
    }else{
        return superagent.get(`${config.url}/${type}.json?key=${config.key}&q=${command}&days=7`)
        .then(response => response.body)
        .catch(error => "error")
    }
    
}


function searchCity(type, city){
    return _fetch(type,city)
}
module.exports = {
    searchCity
}